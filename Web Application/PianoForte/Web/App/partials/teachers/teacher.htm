<div id="teacher" class="individual-info" ng-controller="TeacherController" ng-init="initialize()">
    <my-tabs ng-show="!isReady">
        <my-pane data-title="Loading">
            Now Loading...
        </my-pane>
    </my-tabs>
    <my-tabs ng-show="isReady">
        <my-pane data-title="about">
            <div class="tube width-100-percent no-margin-bottom">
                <div class="tube width-85-percent">
                    <my-box class="no-margin-bottom">                    
                        <ul class="widget-breadcrumb">
                            <li><a href="#/teachers">Teachers</a></li>
                            <li class="seperator">&gt;</li>
                            <li>{{teacher.firstname}} {{teacher.lastname}} ({{teacher.nickname}})</li>
                        </ul>
                    </my-box>
                </div>
                <div class="tube width-15-percent">
                    <my-button data-text="'ย้อนกลับ'"></my-button>
                </div>
            </div>
            <div class="tube width-100-percent no-margin-bottom">
                <div class="tube-50-percent">
                    <my-box data-title="'ข้อมูลทั่วไป'" data-editable="true" data-edit="onEditGeneralInfo()">
                        <div class="rows">
                            <div class="row">
                                <div class="col col-label">รหัสประจำตัว :</div>
                                <div class="col col-value">{{teacher.id}}</div>
                                <div class="clear-fix"></div>
                            </div>
                            <div class="row">
                                <div class="col col-label">ชื่อ :</div>
                                <div class="col col-value">{{teacher.firstname}}</div>
                                <div class="clear-fix"></div>
                            </div>
                            <div class="row">
                                <div class="col col-label">นามสกุล :</div>
                                <div class="col col-value">{{teacher.lastname}}</div>
                                <div class="clear-fix"></div>
                            </div>
                            <div class="row">
                                <div class="col col-label">ชื่อเล่น :</div>
                                <div class="col col-value">{{teacher.nickname}}</div>
                                <div class="clear-fix"></div>
                            </div>
                            <div class="row">
                                <div class="col col-label">สถานะ :</div>
                                <div class="col col-value">{{teacher.status.text}}</div>
                                <div class="clear-fix"></div>
                            </div>
                        </div>
                    </my-box>
                    <my-box data-title="'ข้อมูลการติดต่อ'" data-editable="true" data-edit="onEditContactInfo()">
                        <div class="rows">
                            <div class="row" ng-repeat="contact in teacher.contacts.phones">
                                <input type="hidden" ng-model="contact.id" />
                                <input type="hidden" ng-model="contact.type" />
                                <div class="col col-label">{{contact.label}} :</div>
                                <div class="col col-value">{{FormatManager.formatPhoneNumber(contact.value)}}</div>
                                <div class="clear-fix"></div>
                            </div>
                            <div class="row" ng-repeat="contact in teacher.contacts.emails">
                                <input type="hidden" ng-model="contact.id" />
                                <input type="hidden" ng-model="contact.type" />
                                <div class="col col-label">{{contact.label}} :</div>
                                <div class="col col-value">{{contact.value}}</div>
                                <div class="clear-fix"></div>
                            </div>
                            <div class="row no-data" ng-show="teacher.contacts.phones.length == 0 && teacher.contacts.emails.length == 0">*** ไม่มีข้อมูล ***</div>
                        </div>
                    </my-box>
                    <my-box data-title="'ข้อมูลที่อยู่'" data-editable="true" data-edit="onEditAddressInfo()">
                        <div class="rows">
                            <div class="row" ng-hide="teacher.address == undefined">
                                <div class="col col-label">ชื่ออาคาร :</div>
                                <div class="col col-value"></div>
                                <div class="clear-fix"></div>
                            </div>
                            <div class="row" ng-hide="teacher.address == undefined">
                                <div class="col col-label">ที่อยู่ :</div>
                                <div class="col col-value"></div>
                                <div class="clear-fix"></div>
                            </div>
                            <div class="row" ng-hide="teacher.address == undefined">
                                <div class="col col-label">ตำบล/แขวง :</div>
                                <div class="col col-value"></div>
                                <div class="clear-fix"></div>
                            </div>
                            <div class="row" ng-hide="teacher.address == undefined">
                                <div class="col col-label">อำเภอ/เขต :</div>
                                <div class="col col-value"></div>
                                <div class="clear-fix"></div>
                            </div>
                            <div class="row" ng-hide="teacher.address == undefined">
                                <div class="col col-label">จังหวัด :</div>
                                <div class="col col-value"></div>
                                <div class="clear-fix"></div>
                            </div>
                            <div class="row" ng-hide="teacher.address == undefined">
                                <div class="col col-label">รหัสไปรษณีย์ :</div>
                                <div class="col col-value"></div>
                                <div class="clear-fix"></div>
                            </div>
                            <div class="row no-data" ng-show="teacher.address == undefined">*** ไม่มีข้อมูล ***</div>
                        </div>
                    </my-box>
                </div>
                <div class="tube-50-percent">
                    <my-box data-title="'วิชาที่สอน'" data-editable="true" data-edit="onEditTeachedCourseInfo()">
                        <div class="rows">
                            <div class="row" ng-repeat="teachCourse in teacher.teachedCourses">{{teachCourse}}</div>
                            <div class="row no-data" ng-show="teacher.teachedCourses.length == 0">*** ไม่มีข้อมูล ***</div>
                        </div>    
                    </my-box>
                </div>
            </div>                
        </my-pane>
        <my-pane data-title="calendar"></my-pane>
    </my-tabs>    

    <!-- General Info -->
    <my-dialog-box data-title="'Edit > General Info'" data-submit="onSubmitEditGeneralInfo()" data-disabled="isOnUpdateEdittedGeneralInfo" data-close="onCancelEditGeneralInfo()" data-visible="isOnEditGeneralInfo">
        <div class="wrapper">
            <div class="rows">
                <div class="row">
                    <div class="col col-label"><span ng-show="edittedGeneralInfo.id.isRequired" class="required">*</span>รหัสประจำตัว :</div>
                    <div class="col col-value">     
                        <my-text-box data-text="edittedGeneralInfo.id.value" data-disabled="true"></my-text-box>
                    </div>
                    <div class="clear-fix"></div>
                </div>
                <div class="row">
                    <div class="col col-label"><span ng-show="edittedGeneralInfo.firstname.isRequired" class="required">*</span>ชื่อ :</div>
                    <div class="col col-value">
                        <my-text-box data-text="edittedGeneralInfo.firstname.value" data-disabled="isOnUpdateEdittedGeneralInfo"></my-text-box>
                        <label ng-hide="edittedGeneralInfo.firstname.isValid">*กรุณากรอกชื่อจริง</label>
                    </div>
                    <div class="clear-fix"></div>
                </div>
                <div class="row">
                    <div class="col col-label"><span ng-show="edittedGeneralInfo.lastname.isRequired" class="required">*</span>นามสกุล :</div>
                    <div class="col col-value">
                        <my-text-box data-text="edittedGeneralInfo.lastname.value" data-disabled="isOnUpdateEdittedGeneralInfo"></my-text-box>
                        <label ng-hide="edittedGeneralInfo.lastname.isValid">*กรุณากรอกนามสกุล</label>
                    </div>
                    <div class="clear-fix"></div>
                </div>
                <div class="row">
                    <div class="col col-label"><span ng-show="edittedGeneralInfo.nickname.isRequired" class="required">*</span>ชื่อเล่น :</div>
                    <div class="col col-value">
                        <my-text-box data-text="edittedGeneralInfo.nickname.value" data-disabled="isOnUpdateEdittedGeneralInfo"></my-text-box>
                        <label ng-hide="edittedGeneralInfo.nickname.isValid">*กรุณากรอกชื่อเล่น</label>
                    </div>
                    <div class="clear-fix"></div>
                </div>
                <div class="row">
                    <div class="col col-label"><span ng-show="edittedGeneralInfo.status.isRequired" class="required">*</span>สถานะ :</div>
                    <div class="col col-value">
                        <my-text-box data-text="edittedGeneralInfo.status.value.text" data-disabled="true"></my-text-box>
                    </div>
                    <div class="clear-fix"></div>
                </div>
            </div>
        </div>
    </my-dialog-box>

    <!-- Contact Info -->
    <my-dialog-box data-title="'Edit > Contact Info'" data-submit="onSubmitEditContactInfo()" data-disabled="isOnUpdateEdittedContactInfo" data-close="onCancelEditContactInfo()" data-visible="isOnEditContactInfo">        
        <div class="wrapper">
            <h4>เบอร์โทรศัพท์</h4>
            <div class="rows">
                <div class="row editted-contact" ng-hide="contact.status == 19" ng-repeat="contact in edittedContactInfo.phones">
                    <div class="col col-label no-padding-top no-padding-bottom">
                        <my-text-box data-text="contact.label" data-placeholder="'เบอร์โทร'" data-disabled="isOnUpdateEdittedContactInfo"></my-text-box>
                    </div>
                    <div class="col col-value">
                        <my-phone-box data-text="contact.value" data-placeholder="'Ex: 089-999-9999'" data-disabled="isOnUpdateEdittedContactInfo"></my-phone-box>
                        <label ng-hide="contact.isValid">*กรุณากรอกหมายเลขโทรศัพท์ให้ถูกต้อง</label>
                    </div>
                    <div class="col col-trash" ng-hide="isOnUpdateEdittedContactInfo" ng-click="removePhone(contact)" title="ลบ"><i class="fa fa-trash-o"></i></div>
                    <div class="col col-primary" ng-hide="isOnUpdateEdittedContactInfo">
                        <my-checkbox data-name="contact.id" data-text="'primary'" data-checked="contact.isPrimary" data-on-changed="onCheckedPrimaryPhone(e)"></my-checkbox>
                    </div>
                    <div class="clear-fix"></div>
                </div>
                <div class="row no-data" ng-show="isOnUpdateEdittedContactInfo && numberOfActivePhones == 0">*** ไม่มีข้อมูล ***</div>
                <button class="btn-add-phone" ng-hide="isOnUpdateEdittedContactInfo" ng-click="addPhone()">+ add</button>
            </div>
            <h4>อีเมล์</h4>
            <div class="rows">
                <div class="row editted-contact" ng-hide="contact.status == 19" ng-repeat="contact in edittedContactInfo.emails">
                    <div class="col col-label no-padding-top no-padding-bottom">
                        <my-text-box data-text="contact.label" data-placeholder="'อีเมล์'" data-disabled="isOnUpdateEdittedContactInfo"></my-text-box>
                    </div>
                    <div class="col col-value">
                        <my-text-box data-text="contact.value" data-placeholder="'Ex: email@pianoforte.com'" data-disabled="isOnUpdateEdittedContactInfo"></my-text-box>
                        <label ng-hide="contact.isValid">*กรุณากรอกอีเมล์ให้ถูกต้อง</label>
                    </div>
                    <div class="col col-trash" ng-hide="isOnUpdateEdittedContactInfo" ng-click="removeEmail(contact)" title="ลบ"><i class="fa fa-trash-o"></i></div>
                    <div class="col col-primary" ng-hide="isOnUpdateEdittedContactInfo">
                        <my-checkbox data-name="contact.id" data-text="'primary'" data-checked="contact.isPrimary" data-on-changed="onCheckedPrimaryEmail(e)"></my-checkbox>
                    </div>
                    <div class="clear-fix"></div>
                </div>
                <div class="row no-data" ng-show="isOnUpdateEdittedContactInfo && numberOfActiveEmails == 0">*** ไม่มีข้อมูล ***</div>
                <button class="btn-add-email" ng-hide="isOnUpdateEdittedContactInfo" ng-click="addEmail()">+ add</button>
            </div>
        </div>
    </my-dialog-box>

    <!-- Address Info -->
    <my-dialog-box data-title="'Edit > Address Info'" data-submit="onSubmitEditAddressInfo()" data-disabled="isOnUpdateEdittedAddressInfo" data-close="onCancelEditAddressInfo()" data-visible="isOnEditAddressInfo">
        <div class="wrapper">
            <div class="rows">
                <div class="row">
                    <div class="col col-label"><span ng-show="edittedAddressInfo.buildingName.isRequired" class="required">*</span>ชื่ออาคาร :</div>
                    <div class="col col-value">     
                        <my-text-box data-text="edittedAddressInfo.buildingName.value" data-disabled="isOnUpdateEdittedAddressInfo"></my-text-box>
                        <label ng-hide="edittedAddressInfo.buildingName.isValid">*กรุณากรอกชื่ออาคาร</label>
                    </div>
                    <div class="clear-fix"></div>
                </div>
                <div class="row">
                    <div class="col col-label"><span ng-show="edittedAddressInfo.streetAddress.isRequired" class="required">*</span>ที่อยู่ :</div>
                    <div class="col col-value">
                        <my-text-box data-text="edittedAddressInfo.streetAddress.value" data-disabled="isOnUpdateEdittedAddressInfo"></my-text-box>
                        <label ng-hide="edittedAddressInfo.streetAddress.isValid">*กรุณากรอกที่อยู่</label>
                    </div>
                    <div class="clear-fix"></div>
                </div>
                <div class="row">
                    <div class="col col-label"><span ng-show="edittedAddressInfo.postcode.isRequired" class="required">*</span>รหัสไปรษณีย์ :</div>
                    <div class="col col-value">
                        <my-text-box data-text="edittedAddressInfo.postcode.value" data-disabled="isOnUpdateEdittedAddressInfo" data-width="125"></my-text-box>
                        <my-checkbox data-text="'ใช้ข้อมูลรหัสไปรษณีย์'"></my-checkbox>
                        <label ng-hide="edittedAddressInfo.postcode.isValid">*กรุณากรอกรหัสไปรษณีย์</label>
                    </div>
                    <div class="clear-fix"></div>
                </div>
                <div class="row">
                    <div class="col col-label"><span ng-show="edittedAddressInfo.subDistrict.isRequired" class="required">*</span>ตำบล/แขวง :</div>
                    <div class="col col-value">
                        <my-select 
                            data-disabled="isOnUpdateEdittedAddressInfo"
                            data-filterable="true"
                            data-maximum-displayed-items="5"                            
                            data-placeholder="'Please select...'"
                            data-theme="'theme-teacher'"></my-select>
                        <label ng-hide="edittedAddressInfo.subDistrict.isValid">*กรุณาเลือกตำบล/แขวง</label>
                    </div>
                    <div class="clear-fix"></div>
                </div>
                <div class="row">
                    <div class="col col-label"><span ng-show="edittedAddressInfo.district.isRequired" class="required">*</span>อำเภอ/เขต :</div>
                    <div class="col col-value">
                        <my-select 
                            data-disabled="isOnUpdateEdittedAddressInfo"
                            data-filterable="true"
                            data-maximum-displayed-items="5"                            
                            data-placeholder="'Please select...'"
                            data-theme="'theme-teacher'"></my-select>
                        <label ng-hide="edittedAddressInfo.district.isValid">*กรุณาเลือกอำเภอ/เขต</label>
                    </div>
                    <div class="clear-fix"></div>
                </div>
                <div class="row">
                    <div class="col col-label"><span ng-show="edittedAddressInfo.province.isRequired" class="required">*</span>จังหวัด :</div>
                    <div class="col col-value">
                        <my-select 
                            data-disabled="isOnUpdateEdittedAddressInfo"
                            data-filterable="true"
                            data-maximum-displayed-items="5"                            
                            data-placeholder="'Please select...'"
                            data-theme="'theme-teacher'"></my-select>
                        <label ng-hide="edittedAddressInfo.province.isValid">*กรุณาเลือกจังหวัด</label>
                    </div>
                    <div class="clear-fix"></div>
                </div>                
            </div>
        </div>
    </my-dialog-box>

    <!-- Teached Course Info -->
    <my-dialog-box data-title="'Edit > Teached Course Info'" data-submit="onSubmitEditTeachedCourseInfo()" data-disabled="isOnUpdateEdittedTeachedCourseInfo" data-close="onCancelEditTeachedCourseInfo()" data-visible="isOnEditTeachedCourseInfo">
        <div class="wrapper">
            <div class="rows">
                <div class="row" ng-repeat="teachedCourse in edittedTeachedCourseInfo">
                    <div class="col col-span label-value">
                        <my-select 
                            data-disabled="isOnUpdateEdittedTeachedCourseInfo"
                            data-filterable="true"
                            data-items="teachedCourse.courseNameList"
                            data-maximum-displayed-items="5"                            
                            data-placeholder="'กรุณาเลือก'"
                            data-selected-item-id="teachedCourse.selectedId"
                            data-theme="'theme-teacher'"></my-select>
                    </div>
                    <div class="col col-trash" ng-hide="isOnUpdateEdittedTeachedCourseInfo" ng-click="removeTeachedCourse($index)" title="ลบ"><i class="fa fa-trash-o"></i></div>
                    <div class="clear-fix"></div>
                </div>
                <div class="row no-data align-center" ng-show="isOnUpdateEdittedTeachedCourseInfo && edittedTeachedCourseInfo.length == 0">*** ไม่มีข้อมูล ***</div>
                <button class="btn-add-course" ng-hide="isOnUpdateEdittedTeachedCourseInfo" ng-click="addTeachedCourse()">+ add</button>
            </div>
        </div>
    </my-dialog-box>
</div>